diff --git a/CMakeLists.txt b/CMakeLists.txt
index 6588dc2..054085a 100644
--- a/CMakeLists.txt
+++ b/CMakeLists.txt
@@ -189,11 +189,11 @@ endif()
 
 target_include_directories(CompiledNN PUBLIC
     "$<BUILD_INTERFACE:${CMAKE_CURRENT_SOURCE_DIR}/Src>"
-    "$<INSTALL_INTERFACE:include/CompiledNN>"
+    "$<INSTALL_INTERFACE:include>"
 )
 target_include_directories(CompiledNN SYSTEM PUBLIC
     "$<BUILD_INTERFACE:${CMAKE_CURRENT_SOURCE_DIR}/3rdParty/B-Human>"
-    "$<INSTALL_INTERFACE:include/CompiledNN>"
+    "$<INSTALL_INTERFACE:include>"
 )
 target_include_directories(CompiledNN SYSTEM PRIVATE
     "${CMAKE_CURRENT_SOURCE_DIR}/3rdParty/asmjit/src"
@@ -210,15 +210,15 @@ set_target_properties(CompiledNN PROPERTIES
 )
 
 find_package(HDF5 REQUIRED)
-if(NOT TARGET hdf5::hdf5-shared)
-  add_library(hdf5::hdf5-shared INTERFACE IMPORTED)
-  set_target_properties(hdf5::hdf5-shared PROPERTIES
+if(NOT TARGET hdf5::hdf5-static)
+  add_library(hdf5::hdf5-static INTERFACE IMPORTED)
+  set_target_properties(hdf5::hdf5-static PROPERTIES
       INTERFACE_LINK_LIBRARIES "${HDF5_C_LIBRARIES}"
       INTERFACE_INCLUDE_DIRECTORIES "${HDF5_C_INCLUDE_DIRS}"
       INTERFACE_COMPILE_OPTIONS "${HDF5_C_DEFINITIONS}"
   )
 endif()
-target_link_libraries(CompiledNN PRIVATE hdf5::hdf5-shared)
+target_link_libraries(CompiledNN PRIVATE hdf5::hdf5-static)
 
 if(WITH_APPLICATIONS)
   add_executable(Benchmark Tests/Benchmark.cpp)
@@ -249,9 +249,12 @@ include(CMakePackageConfigHelpers)
 # install library
 install(TARGETS CompiledNN
     EXPORT CompiledNNTargets
+    RUNTIME DESTINATION "${CMAKE_INSTALL_BINDIR}"
     LIBRARY DESTINATION "${CMAKE_INSTALL_LIBDIR}"
     PUBLIC_HEADER DESTINATION "${CMAKE_INSTALL_INCLUDEDIR}/CompiledNN"
+    ARCHIVE DESTINATION "${CMAKE_INSTALL_LIBDIR}"
 )
+
 # install binaries
 if(WITH_APPLICATIONS)
     install(TARGETS Benchmark
@@ -282,18 +285,18 @@ install(FILES
 # install targets, configuration and version files
 install(EXPORT CompiledNNTargets
     NAMESPACE CompiledNN::
-    DESTINATION "${CMAKE_INSTALL_DATADIR}/cmake/CompiledNN"
+    DESTINATION "${CMAKE_INSTALL_DATADIR}/cmake/compilednn"
 )
-configure_file(CompiledNNConfig.cmake
-    "${CMAKE_CURRENT_BINARY_DIR}/CompiledNNConfig.cmake"
-    COPYONLY
+configure_package_config_file(CompiledNNConfig.cmake.in
+    CompiledNNConfig.cmake
+    INSTALL_DESTINATION "${CMAKE_INSTALL_DATADIR}/cmake/compilednn"
 )
 write_basic_package_version_file(
-    "${CMAKE_CURRENT_BINARY_DIR}/CompiledNNConfigVersion.cmake"
+    CompiledNNConfigVersion.cmake
     COMPATIBILITY AnyNewerVersion
 )
 install(FILES
     "${CMAKE_CURRENT_BINARY_DIR}/CompiledNNConfig.cmake"
     "${CMAKE_CURRENT_BINARY_DIR}/CompiledNNConfigVersion.cmake"
-    DESTINATION "${CMAKE_INSTALL_DATADIR}/cmake/CompiledNN"
+    DESTINATION "${CMAKE_INSTALL_DATADIR}/cmake/compilednn"
 )
diff --git a/CompiledNNConfig.cmake b/CompiledNNConfig.cmake
deleted file mode 100644
index 9dfbfac..0000000
--- a/CompiledNNConfig.cmake
+++ /dev/null
@@ -1 +0,0 @@
-include("${CMAKE_CURRENT_LIST_DIR}/CompiledNNTargets.cmake")
diff --git a/CompiledNNConfig.cmake.in b/CompiledNNConfig.cmake.in
new file mode 100644
index 0000000..5667480
--- /dev/null
+++ b/CompiledNNConfig.cmake.in
@@ -0,0 +1,9 @@
+include(CMakeFindDependencyMacro)
+
+@PACKAGE_INIT@
+
+find_dependency(HDF5)
+
+include("${CMAKE_CURRENT_LIST_DIR}/CompiledNNTargets.cmake")
+
+check_required_components(CompiledNN)
